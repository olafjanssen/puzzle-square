<html>
<head>
	<script src='modernizr.js'></script>
	<script src='card.js'></script>
	<script src='deck.js'></script>
	<script src='decks.js'></script>
	<script src='gameSettings.js'></script>
	<script src='levels.js'></script>
	<script src='grid.js'></script>
	<script src='state.js'></script>
	<script src='appController.js'></script>
	<script src="levelmenu.js"></script>

	<link rel="stylesheet" type="text/css" href="styling.css">

	<meta name="apple-mobile-web-app-capable" content="yes" /> 
	<meta name="viewport" content = "width = device-width, initial-scale = 1, user-scalable = no" />  

</head>
<body>
<div id="floor">
	<div id="play-area">
		<div id="table"></div>
		<div id="stack"></div>
		<div id="backside"></div>
	</div>
<div id="overlay">
</div>
</div>
<div id="menu-icon"></div>
<div id="menu">
</div>
<div id="title">
	<div id='title-image'></div>
	<div class='title-message'>
	</div>
</div>
<div id="splash">
</div>

	<script>

		// localStorage.clear();
		// localStorage["level"] = 3;

		// disable scrolling
		function stopScrolling( touchEvent ) { touchEvent.preventDefault(); }
		// document.addEventListener( 'touchstart' , stopScrolling , false );
		document.addEventListener( 'touchmove' , stopScrolling , false );
		document.addEventListener( 'click', stopScrolling, false);

		// global (bad) shuffling method
		function shuffle(o){ //v1.0
    		for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
    		return o;
		};

		function addOver(element) {
			if (Modernizr.touch) {
				element.addEventListener("touchstart", function(){ element.classList.add("onover")}, false);
				element.addEventListener("touchend", function(){ element.classList.remove("onover")}, false);
			} else {
				element.addEventListener("mouseover", function(){ element.classList.add("onover")}, false);
				element.addEventListener("mouseout", function(){ element.classList.remove("onover")}, false);
			}
		}

		// start the app
		var levelMenu = new LevelMenu();
		var appController = new AppController(new State());
		
		document.body.onload = function(){
			setTimeout(function(){
				document.getElementById("splash").style.display = "none";
			}, 3000);
		}
		document.body.classList.add("show-title");
	</script>
</body>
</html>